<html>
    <head>
        <title>Dwyl App</title>
        <link rel="stylesheet" href="/assets/css/tachyons.css">
        <link rel="stylesheet" href="/assets/css/app.css">
        <link rel="manifest" href="/manifest.json">
        <script src="/elm.js"></script>
    </head>

    <body class="bg-near-white helvetica">
       <script>
            var app = Elm.Main.init();
            
            if('serviceWorker' in navigator) {
                navigator.serviceWorker
                        .register('service_worker.js')
                        .then(function() { console.log("Service Worker Registered"); });
            }

            window.addEventListener('online', function(e) {
                // sync data with server
                app.ports.online.send(true);
            }, false);


            window.addEventListener('offline', function(e) {
                // save data locally
                app.ports.online.send(false);
            }, false);

        </script>
    </body>
</html>