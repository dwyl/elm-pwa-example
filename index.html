<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Dwyl App</title>
        <link rel="stylesheet" href="/elm-pwa-example/assets/css/tachyons.css">
        <link rel="stylesheet" href="/elm-pwa-example/assets/css/app.css">
        <link rel="manifest" href="/elm-pwa-example/manifest.json">
        <script src="/elm-pwa-example/elm.js"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1">
    </head>

    <body class="bg-near-white helvetica">
        <noscript>
            <span>This website is using Elm, so it needs js enabled</span>
        </noscript>
       <script>
            var app = Elm.Main.init();
            
            if('serviceWorker' in navigator) {
                navigator.serviceWorker
                        .register('service_worker.js')
                        .then(function() { console.log("Service Worker Registered"); });
            }

            window.addEventListener('online', function(e) {
                // sync data with server
                app.ports.online.send(true);
            }, false);


            window.addEventListener('offline', function(e) {
                // save data locally
                app.ports.online.send(false);
            }, false);

        </script>
    </body>
</html>